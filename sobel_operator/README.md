Todo:

1. apply rayon
2. don't use image crate
